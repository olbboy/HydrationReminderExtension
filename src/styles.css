/**
 * src/styles.css - Main stylesheet for the Hydration Reminder extension
 * This file will be compiled to dist/styles/style.css by Vite
 */

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Default theme (blue) */
    --primary: #3b82f6;
    --primary-foreground: #ffffff;
    --secondary: #f1f5f9;
    --secondary-foreground: #1e293b;
    --border: #e2e8f0;
    --background: #ffffff;
    --foreground: #0f172a;
    --card: #ffffff;
    --card-foreground: #0f172a;
    --destructive: #ef4444;
    --muted-foreground: #64748b;
    --themes-blue: #3b82f6;
    --themes-green: #10b981;
    --themes-purple: #8b5cf6;
    --themes-orange: #f97316;

    --popover: 0 0% 100%;
    --popover-foreground: 222 47% 11%;

    --muted: 210 40% 96.1%;

    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;

    --input: 214.3 31.8% 91.4%;
    --ring: 201 89% 54%;

    --radius-sm: 0.3rem;
    --radius-md: 0.5rem;
    --radius-lg: 0.8rem;
    
    /* New animation variables */
    --water-wave-height: 10px;
    --water-wave-speed: 3s;
  }

  .dark {
    --primary: #3b82f6;
    --primary-foreground: #ffffff;
    --secondary: #1e293b;
    --secondary-foreground: #f8fafc;
    --border: #334155;
    --background: #0f172a;
    --foreground: #f8fafc;
    --card: #1e293b;
    --card-foreground: #f8fafc;
    --destructive: #ef4444;
    --muted-foreground: #94a3b8;

    --popover: 222 47% 13%;
    --popover-foreground: 210 40% 98%;

    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;

    --input: 217.2 32.6% 20%;
  }
  
  /* New theme variants */
  .theme-green {
    --primary: var(--themes-green);
    --ring: var(--themes-green);
  }
  
  .theme-purple {
    --primary: var(--themes-purple);
    --ring: var(--themes-purple);
  }
  
  .theme-orange {
    --primary: var(--themes-orange);
    --ring: var(--themes-orange);
  }
}

@layer base {
  * {
    @apply border-border;
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  
  body {
    @apply bg-background text-foreground;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    min-width: 350px;
    min-height: 500px;
    max-width: 400px;
    max-height: 600px;
    overflow-x: hidden;
  }
}

@layer components {
  /* App Container - New */
  .app-container {
    @apply flex flex-col h-screen max-h-[600px] relative;
  }
  
  /* Tab Navigation - Redesigned */
  .tab-navigation {
    @apply flex border-b border-border mb-2 bg-background sticky top-0 z-10 w-full justify-between;
  }
  
  .tab-trigger {
    @apply flex flex-col items-center justify-center py-2 px-3 text-sm text-muted-foreground transition-colors relative hover:text-foreground;
  }
  
  .tab-trigger[data-state="active"] {
    @apply text-primary;
  }
  
  .tab-trigger[data-state="active"]::after {
    content: '';
    @apply absolute bottom-0 left-0 right-0 h-0.5 bg-primary rounded-full;
  }
  
  .tab-trigger svg {
    @apply mb-1;
  }
  
  /* Tab Contents */
  .tab-contents {
    @apply flex-1 overflow-y-auto overflow-x-hidden;
  }

  /* Dashboard Tab */
  .dashboard-header {
    @apply flex justify-between items-center p-4 pb-2;
  }
  
  .streak-badge {
    @apply flex flex-col items-center;
  }
  
  .streak-badge > div {
    @apply flex items-center gap-1 bg-primary/10 px-3 py-1 rounded-full;
  }
  
  .hydration-main {
    @apply flex flex-col md:flex-row md:items-center gap-4 px-4 mb-4;
  }
  
  .water-visualization {
    @apply flex justify-center md:w-1/2;
  }
  
  .hydration-stats {
    @apply flex flex-col gap-4 md:w-1/2;
  }
  
  .progress-container {
    @apply h-2 bg-secondary rounded-full mx-4 mb-4 overflow-hidden;
  }
  
  .progress-value {
    @apply h-full bg-primary rounded-full transition-all duration-300 ease-out;
  }
  
  .hydration-feedback {
    @apply text-center text-sm text-muted-foreground mt-2 min-h-[3rem] flex items-center justify-center;
  }
  
  /* New Water Bottle */
  .water-bottle {
    @apply relative w-32 h-64 mx-auto rounded-3xl border-4 border-primary/30 overflow-hidden bg-white/30 dark:bg-black/10 shadow-lg;
  }
  
  .water-bottle-cap {
    @apply absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-16 h-6 bg-primary/30 rounded-t-xl;
  }
  
  .water-bottle-label {
    @apply absolute top-8 left-0 right-0 z-10 text-center;
  }
  
  .water-fill {
    @apply absolute bottom-0 left-0 right-0 bg-primary/70 transition-all duration-700 ease-out;
  }
  
  .water-wave {
    @apply absolute top-0 left-0 w-full h-6 bg-primary/90;
    animation: wave var(--water-wave-speed) infinite linear;
  }
  
  .water-bottle-markers {
    @apply absolute inset-0 flex flex-col justify-between py-8 pointer-events-none;
  }
  
  .water-bottle-marker {
    @apply absolute left-0 w-full border-t border-dashed border-secondary-foreground/20;
  }
  
  .water-bottle-marker-label {
    @apply absolute -left-12 -top-3 text-xs text-muted-foreground;
  }
  
  /* Stat Cards - Enhanced */
  .stats-main {
    @apply grid grid-cols-2 gap-3;
  }
  
  .stat-card {
    @apply flex items-center gap-3 bg-card rounded-lg p-3 shadow-sm;
  }
  
  .stat-icon {
    @apply flex-shrink-0 w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center text-lg;
  }
  
  .stat-value {
    @apply font-bold text-lg;
  }
  
  .stat-label {
    @apply text-xs text-muted-foreground;
  }
  
  .stats-secondary {
    @apply grid grid-cols-3 gap-3;
  }
  
  .stat-card-mini {
    @apply bg-card rounded-lg p-2 text-center shadow-sm;
  }
  
  .stat-value-mini {
    @apply font-semibold text-sm;
  }
  
  /* Drink Controls - New */
  .drink-control {
    @apply px-4 space-y-4 mb-4;
  }
  
  .drink-types {
    @apply flex justify-center gap-2 mb-4;
  }
  
  .drink-type-btn {
    @apply flex flex-col items-center justify-center p-2 rounded-lg bg-secondary text-foreground transition-all hover:bg-secondary/80;
  }
  
  .drink-type-btn.active {
    @apply bg-primary/10 text-primary;
  }
  
  .drink-icon {
    @apply text-xl mb-1;
  }
  
  .quick-add-buttons {
    @apply grid grid-cols-3 gap-2;
  }
  
  .water-btn {
    @apply relative overflow-hidden rounded-lg py-3 px-2 text-center bg-primary/10 text-primary font-medium transition-all hover:bg-primary/20 active:scale-95;
  }
  
  .btn-ripple {
    @apply absolute inset-0 pointer-events-none;
  }
  
  .custom-amount-container {
    @apply mt-4;
  }
  
  .btn-custom {
    @apply w-full py-2 px-4 rounded-lg bg-secondary text-foreground flex items-center justify-center gap-2 transition-all hover:bg-secondary/80 active:scale-95;
  }
  
  .custom-input {
    @apply mt-2 space-y-2;
  }
  
  .form-control {
    @apply block w-full px-3 py-2 bg-background border border-border rounded-md shadow-sm placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/40 transition-colors;
  }
  
  .custom-input-buttons {
    @apply flex gap-2;
  }
  
  .btn-primary {
    @apply py-2 px-4 bg-primary text-primary-foreground rounded-md shadow-sm hover:bg-primary/90 transition-colors active:scale-95;
  }
  
  .btn-secondary {
    @apply py-2 px-4 bg-secondary text-secondary-foreground rounded-md shadow-sm hover:bg-secondary/80 transition-colors active:scale-95;
  }
  
  .btn-destructive {
    @apply py-2 px-4 bg-destructive text-white rounded-md shadow-sm hover:bg-destructive/90 transition-colors active:scale-95;
  }
  
  .btn-lg {
    @apply py-3 px-6 text-base;
  }
  
  /* Stats Tab - New */
  .stats-container {
    @apply p-4 space-y-6;
  }
  
  .tab-title {
    @apply text-xl font-bold mb-4;
  }
  
  .section-title {
    @apply text-base font-semibold text-foreground/80 mb-3;
  }
  
  .stats-chart-container {
    @apply bg-card rounded-lg p-4 shadow-sm mb-4;
  }
  
  .chart-area {
    @apply h-48;
  }
  
  .activity-log-container {
    @apply bg-card rounded-lg divide-y divide-border shadow-sm overflow-hidden;
  }
  
  /* Insights Tab - New */
  .insights-container {
    @apply p-4 space-y-6;
  }
  
  .insights-cards {
    @apply grid grid-cols-2 gap-4 mb-4;
  }
  
  .insight-card {
    @apply bg-card rounded-lg p-4 shadow-sm;
  }
  
  .insight-header {
    @apply flex items-center gap-2 text-sm text-muted-foreground mb-2;
  }
  
  .insight-value {
    @apply mb-3;
  }
  
  .circular-progress-container {
    @apply relative h-16;
  }
  
  .circular-progress {
    @apply relative w-full h-full;
  }
  
  .progress-circle {
    @apply absolute inset-0 bg-primary/20 rounded-full;
    clip-path: circle(50% at center);
  }
  
  .progress-indicator {
    @apply relative h-2 mt-2 bg-primary/20 rounded-full overflow-hidden;
  }
  
  .progress-line {
    @apply absolute inset-y-0 left-0 bg-primary rounded-full transition-all duration-300 ease-out;
  }
  
  .insight-analysis-card {
    @apply bg-card rounded-lg p-4 shadow-sm;
  }
  
  .insight-content {
    @apply text-sm mt-3;
  }
  
  /* Settings Tab - New */
  .settings-container {
    @apply p-4 space-y-6;
  }
  
  .settings-section {
    @apply mb-6;
  }
  
  .form-item {
    @apply mb-4;
  }
  
  .form-label {
    @apply block text-sm font-medium text-foreground mb-1;
  }
  
  .form-toggle {
    @apply flex items-center justify-between py-2;
  }
  
  .toggle-label {
    @apply text-sm;
  }
  
  .toggle-control {
    @apply relative;
  }
  
  .switch {
    @apply sr-only;
  }
  
  .switch-label {
    @apply block w-11 h-6 rounded-full bg-secondary cursor-pointer relative transition-colors;
  }
  
  .switch-label::after {
    content: '';
    @apply absolute left-1 top-1 w-4 h-4 rounded-full bg-muted-foreground transition-transform duration-200;
  }
  
  .switch:checked + .switch-label {
    @apply bg-primary;
  }
  
  .switch:checked + .switch-label::after {
    @apply transform translate-x-5 bg-white;
  }
  
  .theme-selector {
    @apply flex gap-3;
  }
  
  .theme-btn {
    @apply flex flex-col items-center justify-center p-3 rounded-lg bg-secondary text-foreground transition-all hover:bg-secondary/80 flex-1;
  }
  
  .theme-btn[data-active="true"] {
    @apply bg-primary/10 text-primary;
  }
  
  .theme-icon {
    @apply text-xl mb-1;
  }
  
  .settings-actions {
    @apply mt-8 space-y-4;
  }
  
  .settings-secondary-actions {
    @apply grid grid-cols-2 gap-3 mt-3;
  }
  
  /* Toast Notifications */
  .toast {
    @apply fixed bottom-0 right-0 mb-4 mr-4 p-3 rounded-lg shadow-lg bg-white dark:bg-card max-w-sm transform translate-y-full opacity-0 transition-all duration-300 border-l-4 flex items-center;
  }
  
  .toast.show {
    @apply translate-y-0 opacity-100;
  }
  
  .toast-success {
    @apply border-l-green-500;
  }
  
  .toast-error {
    @apply border-l-red-500;
  }
  
  .toast-warning {
    @apply border-l-amber-500;
  }
  
  .toast-info {
    @apply border-l-primary;
  }
}

/* Animations */
@keyframes wave {
  0% {
    transform: translateX(0) translateY(0);
  }
  25% {
    transform: translateX(-25%) translateY(-5px);
  }
  50% {
    transform: translateX(-50%) translateY(0);
  }
  75% {
    transform: translateX(-75%) translateY(-5px);
  }
  100% {
    transform: translateX(-100%) translateY(0);
  }
}

@keyframes ripple {
  0% {
    transform: scale(0);
    opacity: 1;
  }
  100% {
    transform: scale(4);
    opacity: 0;
  }
}

@keyframes bounceIn {
  0% {
    transform: scale(0.8);
    opacity: 0;
  }
  70% {
    transform: scale(1.1);
    opacity: 1;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

.animate-pulse-ring {
  animation: pulse-ring 1.5s cubic-bezier(0.215, 0.61, 0.355, 1) infinite;
}

@keyframes bounce-in {
  0% {
    transform: scale(0.8);
    opacity: 0;
  }
  50% {
    transform: scale(1.05);
    opacity: 1;
  }
  70% {
    transform: scale(0.95);
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

.animate-bounce-in {
  animation: bounce-in 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.emergency-recovery-button {
  @apply fixed bottom-4 right-4 bg-destructive text-white text-xs px-2 py-1 rounded opacity-70 hover:opacity-100 z-50 cursor-pointer transition-opacity shadow-lg;
}

.emergency-recovery-button:hover {
  @apply opacity-100;
}

/* Water bottle animation */
.water-fill {
  transition: height 0.7s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* Water wave animation */
@keyframes wave {
  0% {
    transform: translateX(0) translateY(0);
  }
  50% {
    transform: translateX(-50%) translateY(-5px);
  }
  100% {
    transform: translateX(-100%) translateY(0);
  }
}

.water-wave {
  animation: wave 2s infinite linear;
}

/* App Frozen Overlay */
.app-frozen-overlay {
  @apply fixed inset-0 bg-background/90 dark:bg-background/95 flex flex-col items-center justify-center gap-4 text-center p-6 z-[9999];
  backdrop-filter: blur(4px);
}

.app-frozen-overlay h2 {
  @apply text-xl font-bold text-destructive;
}

.app-frozen-overlay p {
  @apply text-sm text-foreground mb-4;
}

.app-frozen-overlay button {
  @apply px-4 py-2 bg-primary text-primary-foreground rounded-md shadow-sm hover:bg-primary/90 transition-colors;
} 